{% extends 'base.html' %} {% block content %}

<div class="container">
    <h1>Liste des livres</h1>

    <!-- <a class="btn btn-primary ms-3" href="/library/book/createBook">Ajouter un livre</a> -->
    <form method="get">
      <input name="title" type="text" placeholder="Titre">
      <select name="gender">
        <option value="">Tous les genres</option>
        {% for gender in genders %}
          <option value="{{ gender.id }}" {% if gender.id == gender_id %}selected{% endif %}>{{ gender.name }}</option>
        {% endfor %}
      </select>
      <select name="editor">
        <option value="">Tous les Ã©diteurs</option>
        {% for editor in editors %}
          <option value="{{ editor.id }}" {% if editor.id == editor_id %}selected{% endif %}>{{ editor.name }}</option>
        {% endfor %}
      </select>
      <button type="submit">Filtrer</button>
    </form>
    <table class="table table-striped">
      <thead>
        <tr>
            <th>Titre</th>
            <th>Auteur</th>
            <th>Editeur</th>
            <th>gender</th>
        </tr>
      </thead>
      <tbody>
        {% for item in books %}
            <tr>
                <td>{{ item.title }}</td>
                <td>{{ item.author }}</td>
                <td>{{ item.editor }}</td>
                <td>{{ item.gender }}</td>
                <td>
                    <img src="{{ item.jacket.url}}" alt="connect" style="max-height:300px">
                </td>
                <td>
                    <a class="btn btn-primary" href="/loanBook/create?id={{ item.id }}">Emprunter Le livre</a>
                    <!-- <a class="btn btn-danger" href="delete/?id={{ item.id }}">Supprimer</a> -->
                </td>
            </tr>
        {% endfor %}
      </tbody>
    </table>
</div>

{% endblock content %}
